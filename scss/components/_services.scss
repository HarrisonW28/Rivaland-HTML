// ============================================
// SERVICES SECTION
// ============================================

.services {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0;
    background: $color-white;
    position: relative;
    border-top: 1px solid $color-border;

        // On 1920px+, extend border to full width
        @media (min-width: 1920px) {
            border-top: none; // Hide regular border, use ::before for full-width
            
            &::before {
                content: "";
                position: absolute;
                top: 0;
                left: 50%;
                transform: translateX(-50%);
                width: 100vw;
                height: 1px;
                background: $color-border;
                z-index: 0;
            }
            
            // Hide base border for dark mode (dark mode has its own border)
            &.services--dark::before {
                display: none;
            }
        }

    &.has-active-accordion {
        .services-card {
            justify-content: space-between;
        }
    }
}

.services-left {
    border-right: 1px solid $color-border;
}

.services-right {
    display: flex;
    align-items: stretch;
    
    .services-image {
        width: 100%;
        height: 100%;
        min-height: 100%;
        overflow: hidden;
        display: flex;
        align-items: stretch;
        
        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
    }
}

.services-card {
    background: transparent;
    padding: $spacing-3xl;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: $spacing-3xl;
    border-top: 1px solid $color-border;
    border-right: 1px solid $color-border;
    border-bottom: 1px solid $color-border;
    // Removed left border
    padding-right: $spacing-4xl;
    min-height: 200px;
    transition: justify-content $transition-accordion;

    .eyebrow {
        text-transform: none;
        font-size: $font-size-2xl;
        color: $color-primary;
        line-height: 1.5;
        font-weight: $font-weight-normal;
    }

    .link-button {
        color: $color-black;
        text-decoration: none;
        font-family: Roboto;
        font-weight: $font-weight-light;
        font-size: $font-size-md;
        line-height: 38px;
        letter-spacing: 0;
        display: inline-flex;
        align-items: center;
        justify-content: space-between;
        border: 1px solid $color-accent-teal-light;
        background: $color-white;
        padding: 12px $spacing-md;
        transition: color $transition-base;
        width: 300px;
        @include button-hover-effect;
    }
}

.eyebrow {
    text-transform: none;
    font-size: $font-size-2xl;
    color: $color-primary;
    max-width: 340px;
    padding-left: $spacing-3xl;
}

.button-arrow {
    width: 19px;
    height: $spacing-sm;
    flex-shrink: 0;
    transition: filter $transition-base;
}

.link-button-offset {
    margin-left: $spacing-3xl;
}

.service-list {
    background: transparent;
    border-top: 1px solid $color-border;
    border-bottom: 1px solid $color-border;
    // Removed left and right borders
    min-height: 100%;
}

.service-item {
    background: $color-white !important; // Force white background for inactive cards
    border-bottom: 1px solid $color-border;

    &:last-child {
        border-bottom: none;
    }

    &.active {
        background: $color-white !important; // Keep white background even when active
        
        .service-header {
            background: $color-primary;

            p {
                color: $color-white;
            }
        }

        .accordion-toggle {
            color: $color-white;
        }

        .service-content {
            max-height: 500px;
            padding: $spacing-lg $spacing-2xl $spacing-lg;
            background: $color-white !important; // Ensure content area stays white
        }
    }
    
    // Ensure inactive items maintain white background
    &:not(.active) {
        background: $color-white !important;
        
        .service-header {
            background: $color-white !important; // Force white background on inactive headers
        }
        
        .service-content {
            background: $color-white !important; // Force white background on inactive content
        }
    }

    .service-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: $spacing-lg $spacing-2xl;
        cursor: pointer;
        transition: background $transition-accordion;
        background: $color-white; // Default white background

        p {
            color: $color-primary;
            font-size: $font-size-xl;
            font-weight: $font-weight-light;
            margin: 0;
            transition: color $transition-base;
        }

        &:hover {
            background: $color-primary;

            p {
                color: $color-white;
            }

            .accordion-toggle {
                color: $color-white;
            }
        }
    }
    
    // Override white background for page variant items (they use transparent/dark)
    &.service-item--page {
        background: transparent !important;
        
        .service-header {
            background: transparent !important;
        }
        
        .service-content {
            background: transparent !important;
        }
    }
}

.accordion-toggle {
    background: none;
    border: none;
    font-size: $font-size-2xl;
    color: $color-primary;
    cursor: pointer;
    padding: 10px;
    width: 44px;
    height: 44px;
    min-width: 44px;
    min-height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color $transition-base;
    line-height: 1;

    &:hover {
        color: $color-white;
    }
}

.service-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height $transition-accordion, padding $transition-accordion;
    padding: 0 $spacing-2xl;
    background: $color-white !important; // Force white background

    p {
        color: $color-accent-teal;
        font-size: $font-size-base;
        line-height: 1.6;
        margin: 0 0 $spacing-lg 0;
        font-weight: $font-weight-normal;
    }
}

.service-button {
    color: $color-black;
    text-decoration: none;
    font-family: Roboto;
    font-weight: $font-weight-light;
    font-size: $font-size-md;
    line-height: 38px;
    letter-spacing: 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border: 1px solid $color-accent-teal-light;
    background: $color-white;
    padding: 12px $spacing-md;
    transition: color $transition-base;
    max-width: 305px;
    box-sizing: border-box;
    @include button-hover-effect;
}

// ============================================
// TYPE VARIANTS
// ============================================

// Standard type (default - regular services layout with accordion)
.services--standard {
    // Uses base .services styles
}

// Page type (card layout for services page)
    .services--page {
        display: grid;
        // First column ends where intro text padding starts (roughly doubled: 10% + 30px from left)
        // Second column takes remaining space
        grid-template-columns: calc(10% + 30px) 1fr;
    gap: 0;
    background: $color-primary;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    
    // On 1920px+, hide regular border to prevent overlap with ::after
    @media (min-width: 1920px) {
        border-top: none;
    }
    
    .services--page-left {
        // Empty left column - aligns with intro text padding
        background: transparent;
    }
    
    .services--page-right {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        border-left: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .service-card {
        width: 100%;
        padding: $spacing-5xl;
        display: grid;
        grid-template-columns: 1fr auto;
        gap: $spacing-5xl;
        align-items: start;
    }
    
    .service-card-content {
        display: flex;
        flex-direction: column;
        gap: $spacing-lg;
    }
    
    .service-card-title {
        font-size: $font-size-4xl;
        font-weight: $font-weight-normal;
        color: $color-white;
        margin: 0;
    }
    
    .service-card-text {
        p {
            color: rgba(255, 255, 255, 0.85);
            font-size: $font-size-base;
            line-height: 1.6;
            margin: 0;
        }
    }
    
    .service-card-image {
        display: flex;
        flex-direction: column;
        gap: $spacing-lg;
        align-items: flex-start;
        margin-top: 50px;
        
        img {
            width: 416px;
            height: 416px;
            max-width: 416px;
            max-height: 416px;
            object-fit: cover;
            border-radius: 4px;
            display: block;
        }
    }
    
    .service-card-button {
        color: $color-white;
        text-decoration: none;
        font-family: Roboto;
        font-weight: $font-weight-light;
        font-size: $font-size-md;
        line-height: 38px;
        letter-spacing: 0;
        display: flex;
        align-items: center;
        justify-content: space-between;
        border: 1px solid rgba(255, 255, 255, 0.3);
        background: transparent;
        padding: 12px $spacing-md;
        transition: all $transition-base;
        width: 416px;
        max-width: 416px;
        box-sizing: border-box;
        
        &:hover {
            background: $color-white;
            color: $color-primary;
            
            .button-arrow {
                filter: brightness(0);
            }
        }
        
        .button-arrow {
            width: 19px;
            height: $spacing-sm;
            flex-shrink: 0;
            transition: filter $transition-base;
        }
    }
    
    // Accordion items for page variant
    .service-list--page {
        background: transparent;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        display: flex;
        flex-direction: column;
    }
    
    .service-item--page {
        background: transparent;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        
        &:last-child {
            border-bottom: none;
        }
        
        &.active {
            .service-header--page {
                background: transparent;
            }
            
            .service-content--page {
                max-height: 2000px;
                padding: $spacing-lg $spacing-5xl $spacing-lg;
            }
        }
    }
    
    .service-content-wrapper {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: $spacing-5xl;
        align-items: start;
    }
    
    .service-content-text {
        p {
            color: rgba(255, 255, 255, 0.85);
            font-size: $font-size-base;
            line-height: 1.6;
            margin: 0;
        }
        
        .service-text-preview {
            display: block;
        }
        
        .service-text-full {
            display: block;
        }
        
        .service-read-more {
            display: none; // Hidden on desktop
        }
    }
    
    .service-content-image {
        display: flex;
        flex-direction: column;
        gap: $spacing-lg;
        align-items: flex-start;
        
        img {
            width: 416px;
            height: 416px;
            max-width: 416px;
            max-height: 416px;
            object-fit: cover;
            border-radius: 4px;
            display: block;
        }
    }
    
    .service-header--page {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: $spacing-lg $spacing-5xl;
        cursor: pointer;
        transition: background $transition-accordion;
        
        p {
            color: $color-white;
            font-size: $font-size-xl;
            font-weight: $font-weight-light;
            margin: 0;
            transition: color $transition-base;
        }
        
        &:hover {
            background: rgba(255, 255, 255, 0.05);
        }
    }
    
    .accordion-toggle--page {
        background: none;
        border: none;
        font-size: $font-size-2xl;
        color: $color-white;
        cursor: pointer;
        padding: 10px;
        width: 44px;
        height: 44px;
        min-width: 44px;
        min-height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: color $transition-base;
        line-height: 1;
    }
    
    .service-content--page {
        max-height: 0;
        overflow: hidden;
        transition: max-height $transition-accordion, padding $transition-accordion;
        padding: 0 $spacing-5xl;
        
        // Direct p styling for backward compatibility (if not using wrapper)
        > p {
            color: rgba(255, 255, 255, 0.85);
            font-size: $font-size-base;
            line-height: 1.6;
            margin: 0 0 $spacing-lg 0;
            font-weight: $font-weight-normal;
        }
    }
    
    // Active state for Consultancy (default)
    .service-item--page.active .service-content--page {
        max-height: 2000px;
        padding: $spacing-lg $spacing-5xl $spacing-lg;
    }
    
    .service-button--page {
        color: $color-white;
        text-decoration: none;
        font-family: Roboto;
        font-weight: $font-weight-light;
        font-size: $font-size-md;
        line-height: 38px;
        letter-spacing: 0;
        display: flex;
        align-items: center;
        justify-content: space-between;
        border: 1px solid rgba(255, 255, 255, 0.3);
        background: transparent;
        padding: 12px $spacing-md;
        transition: all $transition-base;
        width: 416px;
        max-width: 416px;
        box-sizing: border-box;
        
        // Hide mobile button on desktop
        &.service-button-mobile {
            display: none !important;
        }
        
        // Show desktop button in image div on desktop
        .service-content-image &.service-button-desktop {
            display: flex !important;
        }
        
        // Hide non-desktop button in image div on desktop
        .service-content-image &:not(.service-button-desktop) {
            display: none !important;
        }
        
        &:hover {
            background: $color-white;
            color: $color-primary;
            
            .button-arrow {
                filter: brightness(0); // Make arrow black on hover
            }
        }
        
        .button-arrow {
            width: 19px;
            height: $spacing-sm;
            flex-shrink: 0;
            transition: filter $transition-base;
            filter: brightness(0) invert(1); // Make arrow white by default
        }
    }
}

// ============================================
// COLOR VARIANTS (can be combined with type variants)
// ============================================

.services {
    // Light color scheme
    &--light {
        // Standard type with light colors
        &.services--standard {
            background: $color-white;
            border-top-color: $color-border;
            
            .services-left {
                border-right-color: $color-border;
            }
            
            .services-card {
                background: transparent;
                border-color: $color-border;
                
                .eyebrow {
                    color: $color-primary;
                }
                
                .link-button {
                    background: $color-white;
                    border-color: $color-accent-teal-light;
                    color: $color-black;
                }
            }
            
            .service-item {
                border-bottom-color: $color-border;
                
                .service-header {
                    p {
                        color: $color-primary;
                    }
                    
                    &:hover {
                        background: $color-primary;
                        
                        p {
                            color: $color-white;
                        }
                    }
                }
                
                &.active .service-header {
                    background: $color-primary;
                    
                    p {
                        color: $color-white;
                    }
                }
            }
            
            .service-content p {
                color: $color-accent-teal;
            }
        }
        
        // Page type with light colors
        &.services--page {
            background: $color-white;
            border-top-color: $color-border;
            
            .services--page-left {
                background: transparent;
            }
            
            .services--page-right {
                border-left-color: $color-border;
            }
            
            .service-card-title {
                color: $color-primary;
            }
            
            .service-card-text p {
                color: $color-text;
            }
            
            .service-card-button {
                border-color: $color-accent-teal-light;
                color: $color-black;
                background: $color-white;
                
                &:hover {
                    background: $color-primary;
                    color: $color-white;
                }
            }
        }
    }
    
    // Dark color scheme
    &--dark {
        position: relative;
        
        // On 1920px+, extend background to fill whitespace
        @media (min-width: 1920px) {
            &::before {
                content: "";
                position: absolute;
                top: 0;
                left: 50%;
                transform: translateX(-50%);
                width: 100vw;
                height: 100%;
                background: $color-primary;
                z-index: -1;
            }
            
            // Extend border to full width
            &::after {
                content: "";
                position: absolute;
                top: 0;
                left: 50%;
                transform: translateX(-50%);
                width: 100vw;
                height: 1px;
                background: rgba(255, 255, 255, 0.2);
                z-index: 0;
            }
        }
        
        // Standard type with dark colors
        &.services--standard {
        background: $color-primary;
        border-top-color: rgba(255, 255, 255, 0.2);
        
        // On 1920px+, hide regular border to prevent overlap
        @media (min-width: 1920px) {
            border-top: none;
        }
        
        .services-left {
            border-right-color: rgba(255, 255, 255, 0.2);
        }
        
        .services-card {
            background: transparent;
            border-color: rgba(255, 255, 255, 0.2);
            
            .eyebrow {
                color: $color-white;
            }
            
            .link-button {
                background: $color-primary;
                border-color: rgba(255, 255, 255, 0.3);
                color: $color-white;
                
                &:hover {
                    background: $color-white;
                    color: $color-primary;
                }
            }
        }
        
        .service-item {
            border-bottom-color: rgba(255, 255, 255, 0.2);
            
            .service-header {
                p {
                    color: $color-white;
                }
                
                &:hover {
                    background: rgba(255, 255, 255, 0.1);
                    
                    p {
                        color: $color-white;
                    }
                }
            }
            
            &.active .service-header {
                background: rgba(255, 255, 255, 0.15);
                
                p {
                    color: $color-white;
                }
            }
        }
        
        .service-content p {
            color: rgba(255, 255, 255, 0.85);
        }
        
        .accordion-toggle {
            color: $color-white;
        }
        }
        
        // Page type with dark colors
        &.services--page {
            background: $color-primary;
            border-top-color: rgba(255, 255, 255, 0.2);
            
            // On 1920px+, hide regular border to prevent overlap
            @media (min-width: 1920px) {
                border-top: none;
            }
            
            .services--page-left {
                background: transparent;
            }
            
            .services--page-right {
                border-left-color: rgba(255, 255, 255, 0.2);
            }
            
            .service-card-title {
                color: $color-white;
            }
            
            .service-card-text p {
                color: rgba(255, 255, 255, 0.85);
            }
            
            .service-card-button {
                border-color: rgba(255, 255, 255, 0.3);
                color: $color-white;
                background: transparent;
                
                &:hover {
                    background: $color-white;
                    color: $color-primary;
                }
            }
            
            // Ensure accordion items have transparent/dark backgrounds
            .service-item--page {
                background: transparent !important;
                
                .service-header--page {
                    background: transparent !important;
                }
                
                .service-content--page {
                    background: transparent !important;
                }
            }
        }
    }
}

// ============================================
// RESPONSIVE STYLES
// ============================================

// Tablet (≤1024px)
@media (max-width: $breakpoint-desktop) {
    // Keep 2-column grid on tablet - only go to 1 column on mobile
    .services {
        grid-template-columns: 1fr 1fr;
    }
    
    // Accordion should fill row to edge on tablet (except 1920px+) - keep small left column like desktop
    .services--page {
        grid-template-columns: calc(10% + 30px) 1fr !important; // Keep 2-column layout with small left column like desktop
        padding: 0;
        width: 100%;
        max-width: 100%;
        
        // On 1920px+, respect main's 1440px max-width
        @media (min-width: 1920px) {
            max-width: 1440px;
            margin: 0 auto;
        }
        
        .services--page-left {
            display: block !important; // Show left column on tablet
        }
        
        .services--page-right {
            border-left: 1px solid rgba(255, 255, 255, 0.2) !important; // Keep border like desktop
            width: 100%;
        }
        
        .service-header--page {
            width: 100%;
            max-width: 100%;
            margin: 0;
            padding: 10px $spacing-3xl; // Add horizontal padding instead of centering
        }
        
        .service-content--page {
            padding: 0 !important; // No padding when closed on tablet/landscape
            overflow: hidden;
            
            // Ensure closed state on tablet/landscape
            .service-item--page:not(.active) & {
                max-height: 0 !important;
            }
            
            // Only show when active
            .service-item--page.active & {
                padding: 0 !important; // Remove padding from container, use wrapper padding instead
                max-height: 2000px !important; // Allow content to show
            }
        }
        
        .service-content-wrapper {
            display: none; // Hide by default on tablet/landscape
        }
        
        // Only show wrapper when accordion is active
        .service-item--page.active .service-content-wrapper {
            display: flex !important;
            flex-direction: column; // Stack vertically on tablet/landscape
            gap: $spacing-lg;
            padding: 0 $spacing-3xl; // Add horizontal padding instead of centering
            width: 100%;
            max-width: 100%;
            margin: 0;
        }
        
        .service-content-image {
            order: 1; // Image comes first on tablet/landscape
            display: flex;
            flex-direction: column;
            gap: $spacing-lg;
            align-items: center; // Center image on tablet/landscape
            width: 100%;
            
            img {
                width: 300px;
                height: 300px;
                max-width: 300px;
                max-height: 300px;
                object-fit: cover;
            }
            
            .service-button-desktop {
                display: none !important; // Hide desktop button in image div on tablet/landscape
            }
        }
        
        .service-content-text {
            order: 2; // Text comes after image on tablet/landscape
            width: 100%;
            max-width: 100%;
            display: flex;
            flex-direction: column;
            
            .service-text-preview {
                display: block;
                width: 100%;
            }
            
            .service-text-full {
                display: none; // Hidden by default on tablet/landscape
                
                &.expanded {
                    display: block; // Show when expanded
                }
            }
            
            .service-read-more {
                display: flex;
                align-items: center;
                justify-content: space-between;
                background: transparent;
                border: none;
                color: #7DCAD8;
                padding: 0;
                font-family: Roboto;
                font-weight: $font-weight-light;
                font-size: $font-size-md;
                line-height: 38px;
                text-decoration: none;
                margin-top: $spacing-md;
                width: 100%;
                max-width: 100%;
                transition: all $transition-base;
                order: 2; // Read more comes after preview text
                
                &:hover {
                    opacity: 0.7;
                }
                
                .read-more-text {
                    flex: 1;
                    text-align: left;
                    color: #7DCAD8;
                }
                
                .read-more-icon {
                    font-size: $font-size-2xl;
                    line-height: 1;
                    transition: transform $transition-base;
                    flex-shrink: 0;
                    margin-left: $spacing-sm;
                    color: #7DCAD8;
                }
                
                &.expanded {
                    .read-more-icon {
                        transform: rotate(45deg); // Change + to ×
                    }
                }
            }
            
            // Show mobile button after read more on tablet/landscape
            .service-button-mobile {
                display: flex !important;
                order: 3; // Comes after read more
                width: 100%;
                max-width: 100%;
                margin-top: $spacing-md;
                margin-bottom: 10px;
            }
        }
    }
}

// Mobile Landscape / Tablet (768px - 1024px)
@media (min-width: 768px) and (max-width: 1024px) {
    .services {
        grid-template-columns: 1fr 1fr; // Keep 2-column grid on tablet
        padding: 0px 0;
    }
    
    .services--page {
        // Fill row to edge on tablet landscape - keep small left column like desktop
        grid-template-columns: calc(10% + 30px) 1fr !important; // Keep 2-column layout with small left column
        width: 100%;
        max-width: 100%;
        
        .services--page-left {
            display: block !important; // Show left column
        }
        
        .services--page-right {
            border-left: 1px solid rgba(255, 255, 255, 0.2) !important; // Keep border like desktop
            width: 100%;
        }
        
        .service-header--page {
            width: 100%;
            max-width: 100%;
            margin: 0;
            padding: 10px $spacing-3xl;
        }
        
        .service-item--page.active .service-content-wrapper {
            width: 100%;
            max-width: 100%;
            margin: 0;
            padding: 0 $spacing-3xl;
            display: flex !important;
            flex-direction: row; // Side by side on mobile landscape
            gap: $spacing-lg;
            align-items: flex-start;
        }
        
        .service-content-text {
            flex: 1;
            order: 1; // Text first (left column)
            width: auto;
            max-width: none;
        }
        
        .service-content-image {
            flex-shrink: 0;
            order: 2; // Image second (right column)
            width: auto;
            
            img {
                width: 200px;
                height: 200px;
                max-width: 200px;
                max-height: 200px;
                object-fit: cover;
            }
        }
    }
}

// Mobile (≤768px)
@media (max-width: $breakpoint-tablet) {
    .services {
        padding: 0; // No top/bottom padding on mobile
        display: flex;
        flex-direction: column;
        grid-template-columns: 1fr;

        &-left {
            order: 1;
            border-right: none;
        }

        &-right {
            order: 2;
            
            .services-image {
                height: 300px; // Fixed height on mobile
            }
        }

        &-card {
            padding: 0 $spacing-sm; // Reduced horizontal padding on mobile
            order: 1;
            display: flex;
            flex-direction: column;
            justify-content: center; // Vertically center content
            gap: 0;
            border-left: none; // Remove left border on mobile
            border-right: none; // Remove right border on mobile

            .eyebrow {
                font-size: $font-size-xl; // 22px on mobile
                order: 1;
                padding: 0 $spacing-sm; // Equal horizontal padding to match services-card
            }

            .link-button {
                display: none; // Hide original button in services-card, will be moved and shown after Planning via JavaScript
            }
        }
    }

    .service-list {
        order: 2;
        border-left: none;
        border-right: none;
    }

    // Style for button when moved after Planning (MOBILE ONLY)
    .link-button-mobile {
        order: 3;
        display: flex !important;
        width: calc(100% - #{$spacing-md * 2});
        max-width: 100%;
        margin: $spacing-lg $spacing-md $spacing-3xl;
        box-sizing: border-box;
        align-items: center;
        justify-content: space-between;
        border: 1px solid $color-accent-teal-light;
        background: $color-white;
        padding: 12px $spacing-md;
        color: $color-black;
        text-decoration: none;
        font-family: Roboto;
        font-weight: $font-weight-light;
        font-size: $font-size-md;
        line-height: 38px;
        @include button-hover-effect;
    }

    .service-header {
        padding: $spacing-md;

        p {
            font-size: $font-size-md;
        }
    }

    .service-content {
        padding: 0 $spacing-md;
    }

    .service-item.active .service-content {
        padding: $spacing-md;
    }

    .service-button {
        max-width: 100%;
        width: 100%;
    }
    
    // Mobile read more functionality for services--page accordion
    .services--page {
        grid-template-columns: 1fr; // Remove left column on mobile
        padding: 0;
        
        .services--page-left {
            display: none; // Hide left column on mobile
        }
        
        .services--page-right {
            border-left: none; // Remove border on mobile
        }
        
        .service-header--page {
            width: 300px;
            max-width: 300px;
            margin: 0 auto; // Center the header
            padding: 30px 0px;
        }
        
        // Mobile landscape - full width
        @media (orientation: landscape) and (max-width: $breakpoint-tablet) {
            .service-header--page {
                width: 100%;
                max-width: 100%;
            }
            
            .service-item--page.active .service-content-wrapper {
                width: 100%;
                max-width: 100%;
            }
            
            .service-content-image img {
                width: 100%;
                max-width: 100%;
                height: auto;
                aspect-ratio: 1;
            }
        }
        
        .service-content--page {
            padding: 0 !important; // No padding when closed on mobile
            overflow: hidden;
            
            // Ensure closed state on mobile
            .service-item--page:not(.active) & {
                max-height: 0 !important;
            }
            
            // Only show when active
            .service-item--page.active & {
                padding: 0 !important; // Remove padding from container, use wrapper padding instead
                max-height: 2000px !important; // Allow content to show
            }
        }
        
        .service-content-wrapper {
            display: none; // Hide by default on mobile
        }
        
        // Only show wrapper when accordion is active
        .service-item--page.active .service-content-wrapper {
            display: flex !important;
            flex-direction: column; // Stack vertically on mobile
            gap: $spacing-lg;
            padding: 0; // Remove padding from wrapper, use individual element padding
            width: 300px;
            max-width: 300px;
            margin: 0 auto; // Center the wrapper
        }
        
        .service-content-image {
            order: 1; // Image comes first on mobile
            display: flex;
            flex-direction: column;
            gap: $spacing-lg;
            align-items: center; // Center image on mobile
            width: 100%;
            
            img {
                width: 300px;
                height: 300px;
                max-width: 300px;
                max-height: 300px;
                object-fit: cover;
            }
            
            .service-button-desktop {
                display: none !important; // Hide desktop button in image div on mobile
            }
        }
        
        .service-content-text {
            order: 2; // Text comes after image on mobile
            width: 100%;
            max-width: 100%;
            display: flex;
            flex-direction: column;
            
            .service-text-preview {
                display: block;
                width: 100%;
            }
            
            .service-text-full {
                display: none; // Hidden by default on mobile
                
                &.expanded {
                    display: block; // Show when expanded
                }
            }
            
            .service-read-more {
                display: flex;
                align-items: center;
                justify-content: space-between;
                background: transparent;
                border: none;
                color: #7DCAD8;
                padding: 0;
                font-family: Roboto;
                font-weight: $font-weight-light;
                font-size: $font-size-md;
                line-height: 38px;
                text-decoration: none;
                margin-top: $spacing-md;
                width: 100%;
                max-width: 100%;
                transition: all $transition-base;
                order: 2; // Read more comes after preview text
                
                &:hover {
                    opacity: 0.7;
                }
                
                .read-more-text {
                    flex: 1;
                    text-align: left;
                    color: #7DCAD8;
                }
                
                .read-more-icon {
                    font-size: $font-size-2xl;
                    line-height: 1;
                    transition: transform $transition-base;
                    flex-shrink: 0;
                    margin-left: $spacing-sm;
                    color: #7DCAD8;
                }
                
                &.expanded {
                    .read-more-icon {
                        transform: rotate(45deg); // Change + to ×
                    }
                }
            }
            
            // Show mobile button after read more on mobile
            .service-button-mobile {
                display: flex !important;
                order: 3; // Comes after read more
                width: 100%;
                max-width: 100%;
                margin-top: $spacing-md;
                margin-bottom: 10px;
            }
        }
    }
}

// Small Mobile (≤480px)
@media (max-width: $breakpoint-mobile) {
    .services-card .eyebrow {
        font-size: $font-size-xl; // 22px on small mobile too
    }
}

